id: art
name: simpleStream.spring
services:
  - id: simpleStream-create
    name: create
    version: 0.2.0
    description: Creates text tokens.
    deployable: true
    kind: SOURCE_SERVICE
    dependencies:
      - id: simpleStream-log
    cmdArg: 
      - --spring.profiles.active=source
    relations:
      - endpoint:
          portArg: --mqtt.port=${port}
          hostArg: --mqtt.host=${host}
      - channel: create-out-0
        type: String
        direction: OUT
  - id: simpleStream-log
    name: log
    version: 0.2.0
    description: Receives text tokens.
    deployable: true
    kind: SINK_SERVICE
    cmdArg: 
      - --spring.profiles.active=sink
    relations:
      - endpoint:
          portArg: --mqtt.port=${port}
          hostArg: --mqtt.host=${host}
      - channel: log-in-0
        type: String
        direction: IN